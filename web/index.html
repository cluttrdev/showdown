<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <title></title>

        <script defer>
            var ws = new WebSocket("ws://" + window.location.host + "/ws");

            ws.onmessage = (event) => {
                var msg = JSON.parse(event.data);
                switch (msg.type) {
                    case 'title':
                        document.querySelector('title').innerHTML = msg.data;
                        break;
                    case 'content':
                        document.querySelector('.markdown-content').innerHTML = msg.data;
                        break;
                }
            }

            ws.onerror = (event) => {
                console.debug(event)
            }
        </script>
    </head>
    <body>
        <main class="markdown-content">
        </main>
    </body>
</html>
